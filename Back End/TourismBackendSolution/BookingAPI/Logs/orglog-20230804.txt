2023-08-04 01:13:30.062 +05:30 [INF] Entity Framework Core 6.0.20 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-04 01:13:37.135 +05:30 [INF] Entity Framework Core 6.0.20 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-04 01:13:38.083 +05:30 [INF] Executed DbCommand (229ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [TourBooking];
2023-08-04 01:13:38.183 +05:30 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TourBooking] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-08-04 01:13:38.209 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-04 01:13:38.373 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-08-04 01:13:38.376 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-04 01:13:38.401 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-04 01:13:38.416 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-08-04 01:13:38.438 +05:30 [INF] Applying migration '20230803194330_PUNI'.
2023-08-04 01:13:38.466 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [UserName] nvarchar(max) NOT NULL,
    [HotelId] int NOT NULL,
    [HotelName] nvarchar(max) NOT NULL,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [NumberOfDays] int NOT NULL,
    [TotalPrice] float NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId])
);
2023-08-04 01:13:38.471 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230803194330_PUNI', N'6.0.20');
2023-08-04 01:14:11.916 +05:30 [INF] User profile is available. Using 'C:\Users\Ajay Gokul\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-04 01:14:12.291 +05:30 [INF] Now listening on: http://localhost:5035
2023-08-04 01:14:12.297 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-08-04 01:14:12.299 +05:30 [INF] Hosting environment: Development
2023-08-04 01:14:12.301 +05:30 [INF] Content root path: C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\
2023-08-04 01:14:13.180 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger - -
2023-08-04 01:14:13.481 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger - - - 301 0 - 306.8043ms
2023-08-04 01:14:13.512 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/index.html - -
2023-08-04 01:14:14.174 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/swagger-ui.css - -
2023-08-04 01:14:14.180 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/swagger-ui-standalone-preset.js - -
2023-08-04 01:14:14.185 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - -
2023-08-04 01:14:14.185 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/swagger-ui-bundle.js - -
2023-08-04 01:14:14.186 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_vs/browserLink - -
2023-08-04 01:14:14.195 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 9.6149ms
2023-08-04 01:14:14.202 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/index.html - - - 200 - text/html;charset=utf-8 690.1761ms
2023-08-04 01:14:14.331 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-08-04 01:14:14.331 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-08-04 01:14:14.333 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 152.7018ms
2023-08-04 01:14:14.334 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 147.6841ms
2023-08-04 01:14:14.336 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/swagger-ui.css - - - 200 144929 text/css 161.4998ms
2023-08-04 01:14:14.342 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-08-04 01:14:14.346 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 160.6469ms
2023-08-04 01:14:14.654 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - -
2023-08-04 01:14:14.702 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/favicon-32x32.png - -
2023-08-04 01:14:14.705 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-08-04 01:14:14.708 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/favicon-32x32.png - - - 200 628 image/png 6.1518ms
2023-08-04 01:14:14.834 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Booking" for actions - BookingAPI.Controllers.BookingController.GetByBookingId (BookingAPI),BookingAPI.Controllers.BookingController.GetByUserId (BookingAPI),BookingAPI.Controllers.BookingController.GetByHotelId (BookingAPI),BookingAPI.Controllers.BookingController.DeleteBooking (BookingAPI). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-04 01:14:14.948 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 294.2486ms
2023-08-04 01:17:00.094 +05:30 [INF] Entity Framework Core 6.0.20 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-04 01:17:45.247 +05:30 [INF] User profile is available. Using 'C:\Users\Ajay Gokul\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-04 01:17:45.628 +05:30 [INF] Now listening on: http://localhost:5035
2023-08-04 01:17:45.635 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-08-04 01:17:45.638 +05:30 [INF] Hosting environment: Development
2023-08-04 01:17:45.639 +05:30 [INF] Content root path: C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\
2023-08-04 01:17:46.857 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/index.html - -
2023-08-04 01:17:47.868 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - -
2023-08-04 01:17:47.872 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_vs/browserLink - -
2023-08-04 01:17:47.925 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 14.9636ms
2023-08-04 01:17:47.949 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/index.html - - - 200 - text/html;charset=utf-8 1101.1716ms
2023-08-04 01:17:47.997 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 125.4949ms
2023-08-04 01:17:48.288 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - -
2023-08-04 01:17:48.643 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 355.5562ms
2023-08-04 01:19:07.693 +05:30 [INF] User profile is available. Using 'C:\Users\Ajay Gokul\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-04 01:19:08.186 +05:30 [INF] Now listening on: http://localhost:5035
2023-08-04 01:19:08.193 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-08-04 01:19:08.195 +05:30 [INF] Hosting environment: Development
2023-08-04 01:19:08.197 +05:30 [INF] Content root path: C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\
2023-08-04 01:19:09.104 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/index.html - -
2023-08-04 01:19:10.283 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - -
2023-08-04 01:19:10.279 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_vs/browserLink - -
2023-08-04 01:19:10.331 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 39.5355ms
2023-08-04 01:19:10.372 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/index.html - - - 200 - text/html;charset=utf-8 1279.2035ms
2023-08-04 01:19:10.416 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 136.8091ms
2023-08-04 01:19:10.513 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - -
2023-08-04 01:19:10.696 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Bookings" for actions - BookingAPI.Controllers.BookingsController.GetByBookingId (BookingAPI),BookingAPI.Controllers.BookingsController.GetByUserId (BookingAPI),BookingAPI.Controllers.BookingsController.GetByHotelId (BookingAPI),BookingAPI.Controllers.BookingsController.DeleteBooking (BookingAPI). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-04 01:19:10.805 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 291.7982ms
2023-08-04 01:29:40.425 +05:30 [INF] User profile is available. Using 'C:\Users\Ajay Gokul\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-04 01:29:40.823 +05:30 [INF] Now listening on: http://localhost:5035
2023-08-04 01:29:40.830 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-08-04 01:29:40.833 +05:30 [INF] Hosting environment: Development
2023-08-04 01:29:40.835 +05:30 [INF] Content root path: C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\
2023-08-04 01:29:42.050 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/index.html - -
2023-08-04 01:29:42.944 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_vs/browserLink - -
2023-08-04 01:29:42.972 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - -
2023-08-04 01:29:42.994 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 26.1815ms
2023-08-04 01:29:43.007 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/index.html - - - 200 - text/html;charset=utf-8 966.9300ms
2023-08-04 01:29:43.089 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 145.3590ms
2023-08-04 01:29:43.197 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - -
2023-08-04 01:29:43.583 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 385.8581ms
2023-08-04 01:30:48.803 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5035/api/Booking/AddBooking application/json 185
2023-08-04 01:30:48.834 +05:30 [INF] CORS policy execution successful.
2023-08-04 01:30:49.139 +05:30 [INF] Executing endpoint 'BookingAPI.Controllers.BookingController.AddBooking (BookingAPI)'
2023-08-04 01:30:49.215 +05:30 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookingAPI.Models.Booking]] AddBooking(BookingAPI.Models.Booking) on controller BookingAPI.Controllers.BookingController (BookingAPI).
2023-08-04 01:30:50.837 +05:30 [INF] Entity Framework Core 6.0.20 initialized 'IBookingService' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-04 01:30:52.363 +05:30 [ERR] Failed executing DbCommand (224ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([EndDate], [HotelId], [HotelName], [StartDate], [TotalPrice], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [BookingId], [NumberOfDays]
FROM [Bookings]
WHERE @@ROWCOUNT = 1 AND [BookingId] = scope_identity();
2023-08-04 01:30:52.533 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'BookingAPI.Context.IBookingService'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'NumberOfDays', table 'TourBooking.dbo.Bookings'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:753f8003-9737-43aa-9e68-f0ea96298fea
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'NumberOfDays', table 'TourBooking.dbo.Bookings'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:753f8003-9737-43aa-9e68-f0ea96298fea
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-04 01:30:52.925 +05:30 [INF] Executed action BookingAPI.Controllers.BookingController.AddBooking (BookingAPI) in 3697.891ms
2023-08-04 01:30:52.933 +05:30 [INF] Executed endpoint 'BookingAPI.Controllers.BookingController.AddBooking (BookingAPI)'
2023-08-04 01:30:52.940 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Message
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'NumberOfDays', table 'TourBooking.dbo.Bookings'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:753f8003-9737-43aa-9e68-f0ea96298fea
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BookingAPI.Repositories.BookingRepo.Add(Booking item) in C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\Repositories\BookingRepo.cs:line 20
   --- End of inner exception stack trace ---
   at BookingAPI.Repositories.BookingRepo.Add(Booking item) in C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\Repositories\BookingRepo.cs:line 25
   at BookingAPI.Services.BookingService.Add(Booking item) in C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\Services\BookingService.cs:line 15
   at BookingAPI.Controllers.BookingController.AddBooking(Booking booking) in C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\Controllers\BookingController.cs:line 25
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-04 01:30:53.018 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5035/api/Booking/AddBooking application/json 185 - 500 - text/plain;+charset=utf-8 4214.4371ms
2023-08-04 01:31:35.697 +05:30 [INF] User profile is available. Using 'C:\Users\Ajay Gokul\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-04 01:31:36.020 +05:30 [INF] Now listening on: http://localhost:5035
2023-08-04 01:31:36.026 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-08-04 01:31:36.028 +05:30 [INF] Hosting environment: Development
2023-08-04 01:31:36.030 +05:30 [INF] Content root path: C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\
2023-08-04 01:31:37.012 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/index.html - -
2023-08-04 01:31:37.596 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - -
2023-08-04 01:31:37.612 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_vs/browserLink - -
2023-08-04 01:31:37.619 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/index.html - - - 200 - text/html;charset=utf-8 614.4204ms
2023-08-04 01:31:37.619 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 23.4079ms
2023-08-04 01:31:37.664 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.4055ms
2023-08-04 01:31:37.724 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - -
2023-08-04 01:31:37.947 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 222.8187ms
2023-08-04 01:33:03.433 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5035/api/Booking/AddBooking application/json 185
2023-08-04 01:33:03.473 +05:30 [INF] CORS policy execution successful.
2023-08-04 01:33:03.652 +05:30 [INF] Executing endpoint 'BookingAPI.Controllers.BookingController.AddBooking (BookingAPI)'
2023-08-04 01:33:03.718 +05:30 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookingAPI.Models.Booking]] AddBooking(BookingAPI.Models.Booking) on controller BookingAPI.Controllers.BookingController (BookingAPI).
2023-08-04 01:33:05.267 +05:30 [INF] Entity Framework Core 6.0.20 initialized 'IBookingService' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-04 01:33:06.455 +05:30 [ERR] Failed executing DbCommand (196ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([EndDate], [HotelId], [HotelName], [StartDate], [TotalPrice], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [BookingId], [NumberOfDays]
FROM [Bookings]
WHERE @@ROWCOUNT = 1 AND [BookingId] = scope_identity();
2023-08-04 01:33:06.593 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'BookingAPI.Context.IBookingService'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'NumberOfDays', table 'TourBooking.dbo.Bookings'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3bdaa716-12ed-4ddb-974a-f821f65783db
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'NumberOfDays', table 'TourBooking.dbo.Bookings'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3bdaa716-12ed-4ddb-974a-f821f65783db
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-04 01:33:06.909 +05:30 [INF] Executed action BookingAPI.Controllers.BookingController.AddBooking (BookingAPI) in 3170.7991ms
2023-08-04 01:33:06.916 +05:30 [INF] Executed endpoint 'BookingAPI.Controllers.BookingController.AddBooking (BookingAPI)'
2023-08-04 01:33:06.925 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Message
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'NumberOfDays', table 'TourBooking.dbo.Bookings'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3bdaa716-12ed-4ddb-974a-f821f65783db
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BookingAPI.Repositories.BookingRepo.Add(Booking item) in C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\Repositories\BookingRepo.cs:line 20
   --- End of inner exception stack trace ---
   at BookingAPI.Repositories.BookingRepo.Add(Booking item) in C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\Repositories\BookingRepo.cs:line 25
   at BookingAPI.Services.BookingService.Add(Booking item) in C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\Services\BookingService.cs:line 15
   at BookingAPI.Controllers.BookingController.AddBooking(Booking booking) in C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\Controllers\BookingController.cs:line 25
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-04 01:33:06.980 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5035/api/Booking/AddBooking application/json 185 - 500 - text/plain;+charset=utf-8 3546.7765ms
2023-08-04 01:35:43.892 +05:30 [INF] User profile is available. Using 'C:\Users\Ajay Gokul\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-04 01:35:44.196 +05:30 [INF] Now listening on: http://localhost:5035
2023-08-04 01:35:44.203 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-08-04 01:35:44.206 +05:30 [INF] Hosting environment: Development
2023-08-04 01:35:44.207 +05:30 [INF] Content root path: C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\
2023-08-04 01:35:45.066 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/index.html - -
2023-08-04 01:35:45.834 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - -
2023-08-04 01:35:45.834 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_vs/browserLink - -
2023-08-04 01:35:45.847 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 11.3565ms
2023-08-04 01:35:45.874 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/index.html - - - 200 - text/html;charset=utf-8 826.4487ms
2023-08-04 01:35:45.905 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 70.8070ms
2023-08-04 01:35:46.010 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - -
2023-08-04 01:35:46.396 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 386.6261ms
2023-08-04 01:36:30.997 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5035/api/Booking/AddBooking application/json 185
2023-08-04 01:36:31.029 +05:30 [INF] CORS policy execution successful.
2023-08-04 01:36:31.182 +05:30 [INF] Executing endpoint 'BookingAPI.Controllers.BookingController.AddBooking (BookingAPI)'
2023-08-04 01:36:31.242 +05:30 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookingAPI.Models.Booking]] AddBooking(BookingAPI.Models.Booking) on controller BookingAPI.Controllers.BookingController (BookingAPI).
2023-08-04 01:36:32.593 +05:30 [INF] Entity Framework Core 6.0.20 initialized 'IBookingService' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-04 01:36:33.707 +05:30 [ERR] Failed executing DbCommand (177ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([EndDate], [HotelId], [HotelName], [StartDate], [TotalPrice], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [BookingId], [NumberOfDays]
FROM [Bookings]
WHERE @@ROWCOUNT = 1 AND [BookingId] = scope_identity();
2023-08-04 01:36:33.836 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'BookingAPI.Context.IBookingService'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'NumberOfDays', table 'TourBooking.dbo.Bookings'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d1900b3e-496f-4c3d-8ceb-3bb7db54fb49
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'NumberOfDays', table 'TourBooking.dbo.Bookings'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d1900b3e-496f-4c3d-8ceb-3bb7db54fb49
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-04 01:36:34.153 +05:30 [INF] Executed action BookingAPI.Controllers.BookingController.AddBooking (BookingAPI) in 2891.4014ms
2023-08-04 01:36:34.159 +05:30 [INF] Executed endpoint 'BookingAPI.Controllers.BookingController.AddBooking (BookingAPI)'
2023-08-04 01:36:34.167 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Message
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'NumberOfDays', table 'TourBooking.dbo.Bookings'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d1900b3e-496f-4c3d-8ceb-3bb7db54fb49
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BookingAPI.Repositories.BookingRepo.Add(Booking item) in C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\Repositories\BookingRepo.cs:line 20
   --- End of inner exception stack trace ---
   at BookingAPI.Repositories.BookingRepo.Add(Booking item) in C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\Repositories\BookingRepo.cs:line 25
   at BookingAPI.Services.BookingService.Add(Booking item) in C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\Services\BookingService.cs:line 15
   at BookingAPI.Controllers.BookingController.AddBooking(Booking booking) in C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\Controllers\BookingController.cs:line 25
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-04 01:36:34.228 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5035/api/Booking/AddBooking application/json 185 - 500 - text/plain;+charset=utf-8 3230.9968ms
2023-08-04 01:39:56.324 +05:30 [INF] Entity Framework Core 6.0.20 initialized 'IBookingService' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-04 01:40:05.473 +05:30 [INF] Entity Framework Core 6.0.20 initialized 'IBookingService' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-04 01:40:05.775 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-04 01:40:05.808 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-04 01:40:05.812 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-04 01:40:05.813 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-04 01:40:05.839 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-08-04 01:40:05.855 +05:30 [INF] Applying migration '20230803200956_PUNIT'.
2023-08-04 01:40:05.975 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Bookings]') AND [c].[name] = N'NumberOfDays');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Bookings] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Bookings] DROP COLUMN [NumberOfDays];
2023-08-04 01:40:05.979 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230803200956_PUNIT', N'6.0.20');
2023-08-04 01:40:14.239 +05:30 [INF] User profile is available. Using 'C:\Users\Ajay Gokul\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-04 01:40:14.647 +05:30 [INF] Now listening on: http://localhost:5035
2023-08-04 01:40:14.655 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-08-04 01:40:14.658 +05:30 [INF] Hosting environment: Development
2023-08-04 01:40:14.660 +05:30 [INF] Content root path: C:\Users\Ajay Gokul\Documents\Kanini\Full Stack Assessment 2\Back End\TourismBackendSolution\BookingAPI\
2023-08-04 01:40:15.697 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/index.html - -
2023-08-04 01:40:16.595 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_vs/browserLink - -
2023-08-04 01:40:16.711 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - -
2023-08-04 01:40:16.737 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 12.5829ms
2023-08-04 01:40:16.741 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/index.html - - - 200 - text/html;charset=utf-8 1056.2931ms
2023-08-04 01:40:16.799 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 203.9020ms
2023-08-04 01:40:16.885 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - -
2023-08-04 01:40:17.245 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5035/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 359.4930ms
2023-08-04 01:40:37.362 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5035/api/Booking/AddBooking application/json 185
2023-08-04 01:40:37.383 +05:30 [INF] CORS policy execution successful.
2023-08-04 01:40:37.577 +05:30 [INF] Executing endpoint 'BookingAPI.Controllers.BookingController.AddBooking (BookingAPI)'
2023-08-04 01:40:37.645 +05:30 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookingAPI.Models.Booking]] AddBooking(BookingAPI.Models.Booking) on controller BookingAPI.Controllers.BookingController (BookingAPI).
2023-08-04 01:40:39.105 +05:30 [INF] Entity Framework Core 6.0.20 initialized 'IBookingService' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-04 01:40:40.377 +05:30 [INF] Executed DbCommand (180ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([EndDate], [HotelId], [HotelName], [StartDate], [TotalPrice], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [BookingId]
FROM [Bookings]
WHERE @@ROWCOUNT = 1 AND [BookingId] = scope_identity();
2023-08-04 01:40:40.578 +05:30 [INF] Executing OkObjectResult, writing value of type 'BookingAPI.Models.Booking'.
2023-08-04 01:40:40.620 +05:30 [INF] Executed action BookingAPI.Controllers.BookingController.AddBooking (BookingAPI) in 2962.6521ms
2023-08-04 01:40:40.625 +05:30 [INF] Executed endpoint 'BookingAPI.Controllers.BookingController.AddBooking (BookingAPI)'
2023-08-04 01:40:40.643 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5035/api/Booking/AddBooking application/json 185 - 200 - application/json;+charset=utf-8 3280.3897ms
